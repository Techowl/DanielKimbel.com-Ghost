function addEmailAddressToMailingList(a){a.preventDefault();var b=a.target.getElementsByTagName("input")[0].value;if(""===b)return void alert("You must enter an email address.");var c={email:b},d=new XMLHttpRequest;d.open("POST","/url",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded; charset=UTF-8"),d.onload=function(){d.status>=200&&d.status<400?(a.target.getElementsByTagName("input")[0].value="",alert("Thanks! Your email address was successfully added.")):alert("There was an error adding your email address to the list.")},d.onerror=function(){alert("A connection error occurred -- please try again later.")},d.send(c)}function setFormListener(){var a=document.getElementById("email-newsletter-form");a.addEventListener("submit",addEmailAddressToMailingList)}function ready(a){"loading"!=document.readyState?a():document.addEventListener("DOMContentLoaded",a)}ready(setFormListener);